<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|Amita:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.3.0',
    exturl: true,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="最近面试的问题进行归纳总结@Autowired与@Resource的不同一、@Autowired：1、Spring 2.5 引入了 @Autowired 注释，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作。 通过 @Autowired的使用来消除 set ，get方法。这个注解就是spring可以自动帮你把bean里面引用的对象的setter/getter方法省略，它会自动帮你s">
<meta name="keywords" content="面试">
<meta property="og:type" content="article">
<meta property="og:title" content="面试的问题">
<meta property="og:url" content="http://yoursite.com/2020/08/21/面试的问题/index.html">
<meta property="og:site_name" content="叶落">
<meta property="og:description" content="最近面试的问题进行归纳总结@Autowired与@Resource的不同一、@Autowired：1、Spring 2.5 引入了 @Autowired 注释，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作。 通过 @Autowired的使用来消除 set ，get方法。这个注解就是spring可以自动帮你把bean里面引用的对象的setter/getter方法省略，它会自动帮你s">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-08-21T12:52:02.512Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="面试的问题">
<meta name="twitter:description" content="最近面试的问题进行归纳总结@Autowired与@Resource的不同一、@Autowired：1、Spring 2.5 引入了 @Autowired 注释，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作。 通过 @Autowired的使用来消除 set ，get方法。这个注解就是spring可以自动帮你把bean里面引用的对象的setter/getter方法省略，它会自动帮你s">
  <link rel="alternate" href="/atom.xml" title="叶落" type="application/atom+xml">
  <link rel="canonical" href="http://yoursite.com/2020/08/21/面试的问题/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>面试的问题 | 叶落</title>
  <meta name="generator" content="Hexo 3.9.0">
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">叶落</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">论美貌你是赢不过我的</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL05hbm95ZWx1bw==" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/21/面试的问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nano">
      <meta itemprop="description" content="史上最帅高中生">
      <meta itemprop="image" content="/images/1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">面试的问题

          
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2020-08-21 20:21:44 / 修改时间：20:52:02" itemprop="dateCreated datePublished" datetime="2020-08-21T20:21:44+08:00">2020-08-21</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/面试/" itemprop="url" rel="index"><span itemprop="name">面试</span></a></span>

                
                
              
            </span>
          

          
          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              
                <span class="post-meta-item-text">本文字数：</span>
              
              <span>17k</span>
            </span>
          
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
              
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              
              <span>16 分钟</span>
            </span>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>最近面试的问题进行归纳总结</p><h2 id="Autowired与-Resource的不同"><a href="#Autowired与-Resource的不同" class="headerlink" title="@Autowired与@Resource的不同"></a>@Autowired与@Resource的不同</h2><p>一、@Autowired：</p><p>1、Spring 2.5 引入了 @Autowired 注释，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作。 通过 @Autowired的使用来消除 set ，get方法。</p><p>这个注解就是spring可以自动帮你把bean里面引用的对象的setter/getter方法省略，它会自动帮你set/get。<br><bean id="userDao" class="..."><br><bean id="userService" class="..."><br><property name="userDao"><br><ref bean="userDao"><br></ref></property><br></bean><br>这样你在userService里面要做一个userDao的setter/getter方法。<br>但如果你用了@Autowired的话，你只需要在UserService的实现类中声明即可。<br>@Autowired<br>private IUserDao userdao;</bean></p><a id="more"></a>



<p>PS：</p>
<p>1、@Autowired是根据类型进行自动装配的。</p>
<p>2、@Autowired也可以手动指定按照byName方式注入，使用@Qualifier标签，例如：</p>
<p>@Autowired() @Qualifier(“baseDao”)<br>private BaseDao baseDao;</p>
<p>二、@Resource的作用相当于@Autowired，只不过@Autowired按byType自动注入，而@Resource默认按 byName自动注入。</p>
<p>@Resource有两个属性是比较重要的，分是name和type，Spring将@Resource注解的name属性解析为bean的名字，而type属性则解析为bean的类型。所以如果使用name属性，则使用byName的自动注入策略，而使用type属性时则使用byType自动注入策略。如果既不指定name也不指定type属性，这时将通过反射机制使用byName自动注入策略。</p>
<p>@Resource装配顺序　　<br>1.如果同时指定了name和type，则从Spring上下文中找到唯一匹配的bean进行装配，找不到则抛出异常　　</p>
<p>\2. 如果指定了name，则从上下文中查找名称（id）匹配的bean进行装配，找不到则抛出异常<br>3.如果指定了type，则从上下文中找到类型匹配的唯一bean进行装配，找不到或者找到多个，都会抛出异常　　</p>
<p>4.如果既没有指定name，又没有指定type，则自动按照byName方式进行装配；如果没有匹配，则回退为一个原始类型进行匹配，如果匹配则自动装配；</p>
<p>三、@Autowired与@Resource的区别</p>
<p>1、@Autowired与@Resource都可以用来装配bean. 都可以写在字段上,或写在setter方法上。<br>2、@Autowired默认按类型装配（这个注解是属业spring的），默认情况下必须要求依赖对象必须存在，如果要允许null 值，可以设置它的required属性为false。</p>
<p>3、@Resource（这个注解属于J2EE的），默认安照名称进行装配，名称可以通过name属性进行指定，<br>如果没有指定name属性，当注解写在字段上时，默认取字段名进行按照名称查找，如果注解写在setter方法上默认取属性名进行装配。 当找不到与名称匹配的bean时才按照类型进行装配。但是需要注意的是，如果name属性一旦指定，就只会按照名称进行装配。</p>
<p>ps: @Resource注解在字段上，这样就不用写setter方法了，并且这个注解是属于J2EE的，减少了与spring的耦合。</p>
<p>转自：<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTEwNjczNjAvYXJ0aWNsZS9kZXRhaWxzLzM4ODczNzU1" title="https://blog.csdn.net/u011067360/article/details/38873755">https://blog.csdn.net/u011067360/article/details/38873755<i class="fa fa-external-link"></i></span></p>
<h2 id="spring注入bean的几种方式"><a href="#spring注入bean的几种方式" class="headerlink" title="spring注入bean的几种方式"></a>spring注入bean的几种方式</h2><p>平常的Java开发中，程序员在某个类中需要依赖其它类的方法。<br>通常是new一个依赖类再调用类实例的方法，这种开发存在的问题是new的类实例不好统一管理。<br>Spring提出了依赖注入的思想，即依赖类不由程序员实例化，而是通过Spring容器帮我们new指定实例并且将实例注入到需要该对象的类中。<br>依赖注入的另一种说法是”控制反转”。通俗的理解是：平常我们new一个实例，这个实例的控制权是我们程序员。</p>
<p>而控制反转是指new实例工作不由我们程序员来做而是交给Spring容器来做。</p>
<p>Spring有多种依赖注入的形式，本篇文章仅介绍Spring通过xml进行IOC配置的方式。</p>
<p>1.Set注入</p>
<p>这是最简单的注入方式，假设有一个SpringAction，类中需要实例化一个SpringDao对象，那么就可以定义一个private的SpringDao成员变量，然后创建SpringDao的set方法（这是ioc的注入入口）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package com.bless.springdemo.action; </span><br><span class="line">public class SpringAction &#123; </span><br><span class="line">    //注入对象springDao </span><br><span class="line">    private SpringDao springDao; </span><br><span class="line">    //一定要写被注入对象的set方法 </span><br><span class="line">    public void setSpringDao(SpringDao springDao) &#123; </span><br><span class="line">    this.springDao = springDao; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">public void ok()&#123; </span><br><span class="line">    springDao.ok(); </span><br><span class="line">&#125; </span><br><span class="line">&#125;12345678910111213</span><br></pre></td></tr></table></figure>

<p>随后编写spring的xml文件，中的name属性是class属性的一个别名，class属性指类的全名，因为在SpringAction中有一个公共属性Springdao，所以要在标签中创建一个标签指定SpringDao。标签中的name就是SpringAction类中的SpringDao属性名，ref指下面，这样其实是spring将SpringDaoImpl对象实例化并且调用SpringAction的setSpringDao方法将SpringDao注入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--配置bean,配置后该类由spring管理--&gt; </span><br><span class="line">&lt;bean name=&quot;springAction&quot; class=&quot;com.bless.springdemo.action.SpringAction&quot;&gt; </span><br><span class="line">&lt;!--(1)依赖注入,配置当前类中相应的属性--&gt; </span><br><span class="line">&lt;property name=&quot;springDao&quot; ref=&quot;springDao&quot;&gt;&lt;/property&gt; </span><br><span class="line">&lt;/bean&gt; </span><br><span class="line">&lt;bean name=&quot;springDao&quot; class=&quot;com.bless.springdemo.dao.impl.SpringDaoImpl&quot;&gt;&lt;/bean&gt;123456</span><br></pre></td></tr></table></figure>

<p>2.构造器注入</p>
<p>这种方式的注入是指带有参数的构造函数注入，看下面的例子，我创建了两个成员变量SpringDao和User，但是并未设置对象的set方法，所以就不能支持第一种注入方式，这里的注入方式是在SpringAction的构造函数中注入，也就是说在创建SpringAction对象时要将SpringDao和User两个参数值传进来：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public class SpringAction &#123; </span><br><span class="line">    //注入对象springDao </span><br><span class="line">    private SpringDao springDao; </span><br><span class="line">    private User user; </span><br><span class="line"></span><br><span class="line">    public SpringAction(SpringDao springDao,User user)&#123; </span><br><span class="line">    this.springDao = springDao; </span><br><span class="line">    this.user = user; </span><br><span class="line">    System.out.println(&quot;构造方法调用springDao和user&quot;); </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">public void save()&#123; </span><br><span class="line">    user.setName(&quot;卡卡&quot;); </span><br><span class="line">    springDao.save(user); </span><br><span class="line">&#125; </span><br><span class="line">&#125; 12345678910111213141516</span><br></pre></td></tr></table></figure>

<p>在XML文件中同样不用的形式，而是使用标签，ref属性同样指向其它标签的name属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--配置bean,配置后该类由spring管理--&gt; </span><br><span class="line">&lt;bean name=&quot;springAction&quot; class=&quot;com.bless.springdemo.action.SpringAction&quot;&gt; </span><br><span class="line">&lt;!--(2)创建构造器注入,如果主类有带参的构造方法则需添加此配置--&gt; </span><br><span class="line">&lt;constructor-arg ref=&quot;springDao&quot;&gt;&lt;/constructor-arg&gt; </span><br><span class="line">&lt;constructor-arg ref=&quot;user&quot;&gt;&lt;/constructor-arg&gt; </span><br><span class="line">&lt;/bean&gt; </span><br><span class="line">&lt;bean name=&quot;springDao&quot; class=&quot;com.bless.springdemo.dao.impl.SpringDaoImpl&quot;&gt;&lt;/bean&gt; </span><br><span class="line">&lt;bean name=&quot;user&quot; class=&quot;com.bless.springdemo.vo.User&quot;&gt;&lt;/bean&gt; 12345678</span><br></pre></td></tr></table></figure>

<p>解决构造方法参数的不确定性，你可能会遇到构造方法传入的两参数都是同类型的，为了分清哪个该赋对应值，则需要进行一些小处理：</p>
<p>下面是设置index，就是参数位置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean name=&quot;springAction&quot; class=&quot;com.bless.springdemo.action.SpringAction&quot;&gt; </span><br><span class="line">&lt;constructor-arg index=&quot;0&quot; ref=&quot;springDao&quot;&gt;&lt;/constructor-arg&gt; </span><br><span class="line">&lt;constructor-arg index=&quot;1&quot; ref=&quot;user&quot;&gt;&lt;/constructor-arg&gt; </span><br><span class="line">&lt;/bean&gt; 1234</span><br></pre></td></tr></table></figure>

<p>另一种是设置参数类型：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;constructor-arg type=&quot;java.lang.String&quot; ref=&quot;&quot;/&gt;1</span><br></pre></td></tr></table></figure>

<p>3.静态工厂的方法注入</p>
<p>静态工厂顾名思义，就是通过调用静态工厂的方法来获取自己需要的对象，为了让spring管理所有对象，我们不能直接通过”工程类.静态方法()”来获取对象，而是依然通过spring注入的形式获取：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package com.bless.springdemo.factory; </span><br><span class="line"></span><br><span class="line">import com.bless.springdemo.dao.FactoryDao; </span><br><span class="line">import com.bless.springdemo.dao.impl.FactoryDaoImpl; </span><br><span class="line">import com.bless.springdemo.dao.impl.StaticFacotryDaoImpl; </span><br><span class="line"></span><br><span class="line">public class DaoFactory &#123; </span><br><span class="line">//静态工厂 </span><br><span class="line">public static final FactoryDao getStaticFactoryDaoImpl()&#123; </span><br><span class="line">    return new StaticFacotryDaoImpl(); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;123456789101112</span><br></pre></td></tr></table></figure>

<p>同样看关键类，这里我需要注入一个FactoryDao对象，这里看起来跟第一种注入一模一样，但是看随后的xml会发现有很大差别:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class SpringAction &#123; </span><br><span class="line">//注入对象 </span><br><span class="line">private FactoryDao staticFactoryDao; </span><br><span class="line"></span><br><span class="line">public void staticFactoryOk()&#123; </span><br><span class="line">    staticFactoryDao.saveFactory(); </span><br><span class="line">&#125; </span><br><span class="line">//注入对象的set方法 </span><br><span class="line">public void setStaticFactoryDao(FactoryDao staticFactoryDao) &#123; </span><br><span class="line">    this.staticFactoryDao = staticFactoryDao; </span><br><span class="line">&#125; </span><br><span class="line">&#125; 123456789101112</span><br></pre></td></tr></table></figure>

<p>Spring的IOC配置文件，注意看指向的class并不是FactoryDao的实现类，而是指向静态工厂DaoFactory，并且配置 factory-method=”getStaticFactoryDaoImpl”指定调用哪个工厂方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--配置bean,配置后该类由spring管理--&gt; </span><br><span class="line">&lt;bean name=&quot;springAction&quot; class=&quot;com.bless.springdemo.action.SpringAction&quot; &gt; </span><br><span class="line">&lt;!--(3)使用静态工厂的方法注入对象,对应下面的配置文件(3)--&gt; </span><br><span class="line">&lt;property name=&quot;staticFactoryDao&quot; ref=&quot;staticFactoryDao&quot;&gt;&lt;/property&gt; </span><br><span class="line">&lt;/property&gt; </span><br><span class="line">&lt;/bean&gt; </span><br><span class="line">&lt;!--(3)此处获取对象的方式是从工厂类中获取静态方法--&gt; </span><br><span class="line">&lt;bean name=&quot;staticFactoryDao&quot; class=&quot;com.bless.springdemo.factory.DaoFactory&quot; factory-method=&quot;getStaticFactoryDaoImpl&quot;&gt;&lt;/bean&gt; 12345678</span><br></pre></td></tr></table></figure>

<p>4.实例工厂的方法注入</p>
<p>实例工厂的意思是获取对象实例的方法不是静态的，所以你需要首先new工厂类，再调用普通的实例方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class DaoFactory &#123; </span><br><span class="line">//实例工厂 </span><br><span class="line">public FactoryDao getFactoryDaoImpl()&#123; </span><br><span class="line">    return new FactoryDaoImpl(); </span><br><span class="line">&#125; </span><br><span class="line">&#125;123456</span><br></pre></td></tr></table></figure>

<p>那么下面这个类没什么说的，跟前面也很相似，但是我们需要通过实例工厂类创建FactoryDao对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class SpringAction &#123; </span><br><span class="line">//注入对象 </span><br><span class="line">private FactoryDao factoryDao; </span><br><span class="line"></span><br><span class="line">public void factoryOk()&#123; </span><br><span class="line">    factoryDao.saveFactory(); </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">public void setFactoryDao(FactoryDao factoryDao) &#123; </span><br><span class="line">    this.factoryDao = factoryDao; </span><br><span class="line">    &#125; </span><br><span class="line">&#125; 123456789101112</span><br></pre></td></tr></table></figure>

<p>最后看spring配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--配置bean,配置后该类由spring管理--&gt; </span><br><span class="line">&lt;bean name=&quot;springAction&quot; class=&quot;com.bless.springdemo.action.SpringAction&quot;&gt; </span><br><span class="line">&lt;!--(4)使用实例工厂的方法注入对象,对应下面的配置文件(4)--&gt; </span><br><span class="line">&lt;property name=&quot;factoryDao&quot; ref=&quot;factoryDao&quot;&gt;&lt;/property&gt; </span><br><span class="line">&lt;/bean&gt; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!--(4)此处获取对象的方式是从工厂类中获取实例方法--&gt; </span><br><span class="line">&lt;bean name=&quot;daoFactory&quot; class=&quot;com.bless.springdemo.factory.DaoFactory&quot;&gt;&lt;/bean&gt; </span><br><span class="line">&lt;bean name=&quot;factoryDao&quot; factory-bean=&quot;daoFactory&quot; factory-method=&quot;getFactoryDaoImpl&quot;&gt;&lt;/bean&gt; 12345678910</span><br></pre></td></tr></table></figure>

<p>5.总结</p>
<p>Spring IOC注入方式用得最多的是(1)(2)种，多写多练就会非常熟练。</p>
<p>另外注意：通过Spring创建的对象默认是单例的，如果需要创建多实例对象可以在标签后面添加一个属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean name=&quot;...&quot; class=&quot;...&quot; scope=&quot;prototype&quot;&gt;1</span><br></pre></td></tr></table></figure>

<p>转自：<span class="exturl" data-url="aHR0cDovL2JsZXNzaHQuaXRleWUuY29tL2Jsb2cvMTE2MjEzMQ==" title="http://blessht.iteye.com/blog/1162131">http://blessht.iteye.com/blog/1162131<i class="fa fa-external-link"></i></span></p>
<h2 id="Qualifier有什么用-什么时候用"><a href="#Qualifier有什么用-什么时候用" class="headerlink" title="@Qualifier有什么用 什么时候用"></a>@Qualifier有什么用 什么时候用</h2><p>使用@Autowired注释进行byType注入，如果需要byName（byName就是通过id去标识）注入，增加@Qualifier注释。一般在候选Bean数目不为1时应该加@Qualifier注释。</p>
<p>在默认情况下使用 @Autowired 注释进行自动注入时，Spring 容器中匹配的候选 Bean 数目必须有且仅有一个。当找不到一个匹配的 Bean 时，Spring 容器将抛出</p>
<p>BeanCreationException 异常，并指出必须至少拥有一个匹配的 Bean。</p>
<p>和找不到一个类型匹配 Bean 相反的一个错误是：如果 Spring 容器中拥有多个候选 Bean，Spring 容器在启动时也会抛出 BeanCreationException 异常。</p>
<p>Spring 允许我们通过 @Qualifier 注释指定注入 Bean 的名称，这样歧义就消除了，可以通过下面的方法解决异常：</p>
<ol>
<li><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOffice</span><span class="params">(@Qualifier(<span class="string">"office"</span>)</span>Office office)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.office =office;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>也可以直接注入到属性:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span>  </span><br><span class="line"><span class="meta">@Qualifier</span>(<span class="string">"office"</span>)  </span><br><span class="line">**<span class="keyword">private</span>** Office office;</span><br></pre></td></tr></table></figure>

<p>@Qualifier(“office”)中的office是Bean的名称，所以@Autowired和@Qualifier结合使用时，自动注入的策略就从byType转变成byName了。</p>
<p>@Autowired可以对成员变量、方法以及构造函数进行注释，而@Qualifier的标注对象是成员变量、方法入参、构造函数入参。正是由于注释对象的不同，所以Spring不将 @Autowired和@Qualifier统一成一个注释类。</p>
<p>@Qualifier 只能和@Autowired 结合使用，是对@Autowired有益的补充。</p>
<p>一般来讲，@Qualifier对方法签名中入参进行注释会降低代码的可读性，而对成员变量注释则相对好一些。</p>
<p>转自：<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3poZW5neWFuZzc3NTQvYXJ0aWNsZS9kZXRhaWxzLzYyMjE2MDI0" title="https://blog.csdn.net/zhengyang7754/article/details/62216024">https://blog.csdn.net/zhengyang7754/article/details/62216024<i class="fa fa-external-link"></i></span></p>
<h2 id="Java中基本数据类型和包装类型的区别"><a href="#Java中基本数据类型和包装类型的区别" class="headerlink" title="Java中基本数据类型和包装类型的区别"></a>Java中基本数据类型和包装类型的区别</h2><p>1、包装类是对象，拥有方法和字段，对象的调用都是通过引用对象的地址；基本类型不是<br>2、包装类型是引用的传递；基本类型是值的传递<br>3、声明方式不同：<br>        基本数据类型不需要new关键字；<br>        包装类型需要new在堆内存中进行new来分配内存空间<br>4、存储位置不同：<br>        基本数据类型直接将值保存在值栈中；<br>        包装类型是把对象放在堆中，然后通过对象的引用来调用他们<br>5、初始值不同：<br>        int的初始值为 0 、 boolean的初始值为false<br>        包装类型的初始值为null<br>6、使用方式不同：<br>        基本数据类型直接赋值使用就好；<br>        包装类型是在集合如 coolectionMap时使用</p>
<p>原文地址：<span class="exturl" data-url="aHR0cDovL3d3dy5tYW5vbmdqYy5jb20vYXJ0aWNsZS82MjMxMy5odG1s" title="http://www.manongjc.com/article/62313.html">http://www.manongjc.com/article/62313.html<i class="fa fa-external-link"></i></span></p>
<h2 id="mybatis在mapper-xml中怎么处理大于、小于、不等于号"><a href="#mybatis在mapper-xml中怎么处理大于、小于、不等于号" class="headerlink" title="mybatis在mapper.xml中怎么处理大于、小于、不等于号"></a>mybatis在mapper.xml中怎么处理大于、小于、不等于号</h2><p>第一种方法：</p>
<h3 id="使用转义字符"><a href="#使用转义字符" class="headerlink" title="使用转义字符"></a>使用转义字符</h3><table>
<thead>
<tr>
<th>大于号</th>
<th>&gt;</th>
<th>&gt;</th>
</tr>
</thead>
<tbody><tr>
<td>大于等于号</td>
<td>&gt;=</td>
<td>&gt;=</td>
</tr>
<tr>
<td>小于号</td>
<td>&lt;</td>
<td>&lt;</td>
</tr>
<tr>
<td>小于等于号</td>
<td>&lt;=</td>
<td>&lt;=</td>
</tr>
<tr>
<td>与</td>
<td>&amp;</td>
<td>&amp;</td>
</tr>
<tr>
<td>单引号</td>
<td>“</td>
<td>&apos;</td>
</tr>
<tr>
<td>双引号</td>
<td>‘</td>
<td>&quot;</td>
</tr>
</tbody></table>
<p>例如：sql如下：</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; &lt;<span class="keyword">if</span> test=<span class="string">"beginTimeStr != null"</span>&gt;</span><br><span class="line">&gt;     and file.created_at &amp;gt;= <span class="string">'$&#123;beginTimeStr&#125;'</span></span><br><span class="line">&gt; &lt;/if&gt;</span><br><span class="line">&gt; &lt;<span class="keyword">if</span> test=<span class="string">"endTimeStr != null"</span>&gt;</span><br><span class="line">&gt;     and file.created_at &amp;lt;= <span class="string">'$&#123;endTimeStr&#125;'</span></span><br><span class="line">&gt; &lt;/if&gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>第二种方法：</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用<!--[CDATA[  ]]--></h3><p>因为xml格式遇到这种格式会把方括号里的内容原样输出，不进行解析，如：</p>
<ul>
<li>大于等于  <!--[CDATA[ >= ]]--></li>
<li>小于等于   <!--[CDATA[ <= ]]--></li>
</ul>
<p>例如：sql如下：</p>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; &lt;<span class="keyword">if</span> test=<span class="string">"beginTimeStr != null"</span>&gt;</span><br><span class="line">&gt;     &lt;![CDATA[ and file.created_at &gt;= <span class="string">'$&#123;beginTimeStr&#125;'</span> ]]&gt;</span><br><span class="line">&gt; &lt;/if&gt;</span><br><span class="line">&gt; &lt;<span class="keyword">if</span> test=<span class="string">"endTimeStr != null"</span>&gt;</span><br><span class="line">&gt;     &lt;![CDATA[ and file.created_at &lt;= <span class="string">'$&#123;endTimeStr&#125;'</span> ]]&gt;</span><br><span class="line">&gt; &lt;/if&gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>转自：<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2wxODg0ODk1NjczOS9hcnRpY2xlL2RldGFpbHMvODg1NzQ4MjA=" title="https://blog.csdn.net/l18848956739/article/details/88574820">https://blog.csdn.net/l18848956739/article/details/88574820<i class="fa fa-external-link"></i></span></p>
<h2 id="PreparedStatement防止sql注入原理"><a href="#PreparedStatement防止sql注入原理" class="headerlink" title="PreparedStatement防止sql注入原理"></a>PreparedStatement防止sql注入原理</h2><p>PreparedStatement类是java的一个类，准确说是jdbc规范中的一个接口，各个数据库产商的实现不同(即实现类不同)，今天我们就以mysql数据库来说，我已经下载了mysql数据库的驱动jar包和驱动程序的源代码.</p>
<p>sql注入的时候，比如，有些用户就会在界面上输入anything’ OR ‘x’=’x这种东西，最后sql语句就是如下：</p>
<p>SELECT * FROM users WHERE userName = ‘令狐冲’ AND password = ‘anything’ OR ‘x’=’x’</p>
<p>其实</p>
<p>SELECT * FROM users WHERE userName = ? AND password = ?</p>
<p>preparedStatement.setString(1,’XXX’);</p>
<p>preparedStatement.setString(2,’XXX’);</p>
<p>我们可以看下mysql的底层的setString();方法，其实就是用值代替了？的位置，并且在值的两边加上了单引号，然后再把值当中的所有单引号替换成了斜杠单引号，说白了就是把值当中的所有单引号给转义了!这就达到了防止sql注入的目的，说白了mysql驱动的PreparedStatement实现类的setString();方法内部做了单引号的转义，而Statement不能防止sql注入，就是因为它没有把单引号做转义，而是简单粗暴的直接拼接字符串，所以达不到防止sql注入的目的。所以，不管是mysql数据库产商的PreparedStatement实现类还是sqlserver数据库产商的PreparedStatement实现类，其实底层的原理都差不多，当然啦，我们直接在java程序中把那些单引号直接转义也行，只不过比较繁琐一点罢了，既然各个数据库产商的PreparedStatement实现类的setString()方法中已经做了转义，我们何必在java程序中自己去做转义的这部分工作呢？</p>
<p>你如果想看最后在数据库中执行的sql语句是什么的话，可以打印出来看看，如果是mysql数据库的话，直接System.out.println(preparedStatement.toString());</p>
<p>你们可以直接看看打印出来是不是SELECT * FROM users WHERE userName = ‘令狐冲’ AND password = ‘anything&#39; OR&#39;x&#39;=&#39;x’</p>
<p>不好意思，如果你们用的是mysql数据库的话，你们自己打印出来试一试，我没试过，但是我知道底层的原理的话，大概猜一下，只要方向猜对了，八九不离十，其实大家写程序写多了，写久了，你们就可以去猜一猜那些大牛或者是框架的底层的原理，只要方向猜对了，基本上八九不离十，所以，有时候还是要大胆的去猜测底层的原理和实现！<strong>(大胆猜测,小心求证!)</strong></p>
<p>如果是sqlserver数据库的话，</p>
<p>System.out.println(preparedStatement.toString());</p>
<p>好像不会打印出具体的sql语句，因为sqlserver和mysql的preparedStatement实现类不同。至于oracle数据的话，</p>
<p>System.out.println(preparedStatement.toString());</p>
<p>会不会打印出具体的sql语句，我不太清楚，我没试过，你们可以试一试！</p>
<p>以下是mysql数据库的PreparedStatement实现类的setString()方法(你们可以去网上下载mysql的驱动程序的源代码，源代码里面有jdbc的PreparedStatement实现类，去看看实现类中的setString()方法吧)</p>
<p><span class="exturl" data-url="aHR0cDovL2Rvd25sb2FkLnNvZnRhZ2VuY3kubmV0L015U1FML0Rvd25sb2Fkcy9Db25uZWN0b3ItSi8=" title="http://download.softagency.net/MySQL/Downloads/Connector-J/">mysql驱动程序和源代码<i class="fa fa-external-link"></i></span></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">	 * Set a parameter to a Java String value. The driver converts this to a SQL</span><br><span class="line">	 * VARCHAR or LONGVARCHAR value (depending on the arguments size relative to</span><br><span class="line">	 * the driver&apos;s limits on VARCHARs) when it sends it to the database.</span><br><span class="line">	 * </span><br><span class="line">	 * @param parameterIndex</span><br><span class="line">	 *            the first parameter is 1...</span><br><span class="line">	 * @param x</span><br><span class="line">	 *            the parameter value</span><br><span class="line">	 * </span><br><span class="line">	 * @exception SQLException</span><br><span class="line">	 *                if a database access error occurs</span><br><span class="line">	 */</span><br><span class="line">	public synchronized void setString(int parameterIndex, String x) throws SQLException &#123;</span><br><span class="line">		// if the passed string is null, then set this column to null</span><br><span class="line">		if (x == null) &#123;</span><br><span class="line">			setNull(parameterIndex, Types.CHAR);</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			checkClosed();</span><br><span class="line">			</span><br><span class="line">			int stringLength = x.length();</span><br><span class="line"> </span><br><span class="line">			if (this.connection.isNoBackslashEscapesSet()) &#123;</span><br><span class="line">				// Scan for any nasty chars</span><br><span class="line"> </span><br><span class="line">				boolean needsHexEscape = isEscapeNeededForString(x,</span><br><span class="line">						stringLength);</span><br><span class="line"> </span><br><span class="line">				if (!needsHexEscape) &#123;</span><br><span class="line">					byte[] parameterAsBytes = null;</span><br><span class="line"> </span><br><span class="line">					StringBuffer quotedString = new StringBuffer(x.length() + 2);</span><br><span class="line">					quotedString.append(&apos;\&apos;&apos;);</span><br><span class="line">					quotedString.append(x);</span><br><span class="line">					quotedString.append(&apos;\&apos;&apos;);</span><br><span class="line">					</span><br><span class="line">					if (!this.isLoadDataQuery) &#123;</span><br><span class="line">						parameterAsBytes = StringUtils.getBytes(quotedString.toString(),</span><br><span class="line">								this.charConverter, this.charEncoding,</span><br><span class="line">								this.connection.getServerCharacterEncoding(),</span><br><span class="line">								this.connection.parserKnowsUnicode(), getExceptionInterceptor());</span><br><span class="line">					&#125; else &#123;</span><br><span class="line">						// Send with platform character encoding</span><br><span class="line">						parameterAsBytes = StringUtils.getBytes(quotedString.toString());</span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">					setInternal(parameterIndex, parameterAsBytes);</span><br><span class="line">				&#125; else &#123;</span><br><span class="line">					byte[] parameterAsBytes = null;</span><br><span class="line"> </span><br><span class="line">					if (!this.isLoadDataQuery) &#123;</span><br><span class="line">						parameterAsBytes = StringUtils.getBytes(x,</span><br><span class="line">								this.charConverter, this.charEncoding,</span><br><span class="line">								this.connection.getServerCharacterEncoding(),</span><br><span class="line">								this.connection.parserKnowsUnicode(), getExceptionInterceptor());</span><br><span class="line">					&#125; else &#123;</span><br><span class="line">						// Send with platform character encoding</span><br><span class="line">						parameterAsBytes = StringUtils.getBytes(x);</span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">					setBytes(parameterIndex, parameterAsBytes);</span><br><span class="line">				&#125;</span><br><span class="line"> </span><br><span class="line">				return;</span><br><span class="line">			&#125;</span><br><span class="line"> </span><br><span class="line">			String parameterAsString = x;</span><br><span class="line">			boolean needsQuoted = true;</span><br><span class="line">			</span><br><span class="line">			if (this.isLoadDataQuery || isEscapeNeededForString(x, stringLength)) &#123;</span><br><span class="line">				needsQuoted = false; // saves an allocation later</span><br><span class="line">				</span><br><span class="line">				StringBuffer buf = new StringBuffer((int) (x.length() * 1.1));</span><br><span class="line">				</span><br><span class="line">				buf.append(&apos;\&apos;&apos;);</span><br><span class="line">	</span><br><span class="line">				//</span><br><span class="line">				// Note: buf.append(char) is _faster_ than</span><br><span class="line">				// appending in blocks, because the block</span><br><span class="line">				// append requires a System.arraycopy()....</span><br><span class="line">				// go figure...</span><br><span class="line">				//</span><br><span class="line">	</span><br><span class="line">				for (int i = 0; i &lt; stringLength; ++i) &#123;</span><br><span class="line">					char c = x.charAt(i);</span><br><span class="line">	</span><br><span class="line">					switch (c) &#123;</span><br><span class="line">					case 0: /* Must be escaped for &apos;mysql&apos; */</span><br><span class="line">						buf.append(&apos;\\&apos;);</span><br><span class="line">						buf.append(&apos;0&apos;);</span><br><span class="line">	</span><br><span class="line">						break;</span><br><span class="line">	</span><br><span class="line">					case &apos;\n&apos;: /* Must be escaped for logs */</span><br><span class="line">						buf.append(&apos;\\&apos;);</span><br><span class="line">						buf.append(&apos;n&apos;);</span><br><span class="line">	</span><br><span class="line">						break;</span><br><span class="line">	</span><br><span class="line">					case &apos;\r&apos;:</span><br><span class="line">						buf.append(&apos;\\&apos;);</span><br><span class="line">						buf.append(&apos;r&apos;);</span><br><span class="line">	</span><br><span class="line">						break;</span><br><span class="line">	</span><br><span class="line">					case &apos;\\&apos;:</span><br><span class="line">						buf.append(&apos;\\&apos;);</span><br><span class="line">						buf.append(&apos;\\&apos;);</span><br><span class="line">	</span><br><span class="line">						break;</span><br><span class="line">	</span><br><span class="line">					case &apos;\&apos;&apos;:</span><br><span class="line">						buf.append(&apos;\\&apos;);</span><br><span class="line">						buf.append(&apos;\&apos;&apos;);</span><br><span class="line">	</span><br><span class="line">						break;</span><br><span class="line">	</span><br><span class="line">					case &apos;&quot;&apos;: /* Better safe than sorry */</span><br><span class="line">						if (this.usingAnsiMode) &#123;</span><br><span class="line">							buf.append(&apos;\\&apos;);</span><br><span class="line">						&#125;</span><br><span class="line">	</span><br><span class="line">						buf.append(&apos;&quot;&apos;);</span><br><span class="line">	</span><br><span class="line">						break;</span><br><span class="line">	</span><br><span class="line">					case &apos;\032&apos;: /* This gives problems on Win32 */</span><br><span class="line">						buf.append(&apos;\\&apos;);</span><br><span class="line">						buf.append(&apos;Z&apos;);</span><br><span class="line">	</span><br><span class="line">						break;</span><br><span class="line"> </span><br><span class="line">					case &apos;\u00a5&apos;:</span><br><span class="line">					case &apos;\u20a9&apos;:</span><br><span class="line">						// escape characters interpreted as backslash by mysql</span><br><span class="line">						if(charsetEncoder != null) &#123;</span><br><span class="line">							CharBuffer cbuf = CharBuffer.allocate(1);</span><br><span class="line">							ByteBuffer bbuf = ByteBuffer.allocate(1); </span><br><span class="line">							cbuf.put(c);</span><br><span class="line">							cbuf.position(0);</span><br><span class="line">							charsetEncoder.encode(cbuf, bbuf, true);</span><br><span class="line">							if(bbuf.get(0) == &apos;\\&apos;) &#123;</span><br><span class="line">								buf.append(&apos;\\&apos;);</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">						// fall through</span><br><span class="line"> </span><br><span class="line">					default:</span><br><span class="line">						buf.append(c);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">	</span><br><span class="line">				buf.append(&apos;\&apos;&apos;);</span><br><span class="line">	</span><br><span class="line">				parameterAsString = buf.toString();</span><br><span class="line">			&#125;</span><br><span class="line"> </span><br><span class="line">			byte[] parameterAsBytes = null;</span><br><span class="line"> </span><br><span class="line">			if (!this.isLoadDataQuery) &#123;</span><br><span class="line">				if (needsQuoted) &#123;</span><br><span class="line">					parameterAsBytes = StringUtils.getBytesWrapped(parameterAsString,</span><br><span class="line">						&apos;\&apos;&apos;, &apos;\&apos;&apos;, this.charConverter, this.charEncoding, this.connection</span><br><span class="line">								.getServerCharacterEncoding(), this.connection</span><br><span class="line">								.parserKnowsUnicode(), getExceptionInterceptor());</span><br><span class="line">				&#125; else &#123;</span><br><span class="line">					parameterAsBytes = StringUtils.getBytes(parameterAsString,</span><br><span class="line">							this.charConverter, this.charEncoding, this.connection</span><br><span class="line">									.getServerCharacterEncoding(), this.connection</span><br><span class="line">									.parserKnowsUnicode(), getExceptionInterceptor());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				// Send with platform character encoding</span><br><span class="line">				parameterAsBytes = StringUtils.getBytes(parameterAsString);</span><br><span class="line">			&#125;</span><br><span class="line"> </span><br><span class="line">			setInternal(parameterIndex, parameterAsBytes);</span><br><span class="line">			</span><br><span class="line">			this.parameterTypes[parameterIndex - 1 + getParameterIndexOffset()] = Types.VARCHAR;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p> 转自：<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N6aDUwMC9hcnRpY2xlL2RldGFpbHMvNzg4MzA2MzY=" title="https://blog.csdn.net/czh500/article/details/78830636">https://blog.csdn.net/czh500/article/details/78830636<i class="fa fa-external-link"></i></span></p>
<h2 id="java-创建线程的三种方式、创建线程池的四种方式"><a href="#java-创建线程的三种方式、创建线程池的四种方式" class="headerlink" title="java 创建线程的三种方式、创建线程池的四种方式"></a>java 创建线程的三种方式、创建线程池的四种方式</h2><p>java创建线程的三种方式：</p>
<ol>
<li><strong><em>继承Thread类创建线程类</em></strong></li>
<li><strong><em>实现Runnable接口</em></strong></li>
<li><strong><em>通过Callable和Future创建线程</em></strong></li>
</ol>
<p>java创建线程池的四种方式：</p>
<p> <strong>newCachedThreadPool</strong> 创建一个可缓存的线程池，如果线程池长度超过处理需求，可灵活回收空闲线程，若无可回收，则新建线程</p>
<p> <strong>newFixedThreadPool</strong> 创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待</p>
<p> <strong>newScheduledThreadPool</strong> 创建一个定长线程池，支持定时及周期性任务执行</p>
<p>  <strong><em>newSingleThreadExecutor</em></strong> 创建一个单线程化的线程池，它只会唯一的工作线程来执行任务，保证所有任务按照指定</p>
<p>顺序（FIFO，LIFO，优先级）执行</p>
<p>线程池的优点：</p>
<p>   a. <strong>重用存在的线程，减少对象创建、消亡的开销，性能佳</strong>。<br>   b. 可有效控制最大并发线程数，提高系统资源的使用率，同时避免过多资源竞争，避免堵塞。<br>   c. 提供<strong>定时执行、定期执行、单线程、并发数控制</strong>等功能。</p>
<p>转自：<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM1Mjc1MjMzL2FydGljbGUvZGV0YWlscy84Nzg5MzMzNw==" title="https://blog.csdn.net/qq_35275233/article/details/87893337">https://blog.csdn.net/qq_35275233/article/details/87893337<i class="fa fa-external-link"></i></span></p>

    </div>

    
    
    
      

        
      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Nano</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://yoursite.com/2020/08/21/面试的问题/" title="面试的问题">http://yoursite.com/2020/08/21/面试的问题/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/面试/" rel="tag"><i class="fa fa-tag"></i> 面试</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2020/07/23/Optional类/" rel="next" title="Optional类">
                  <i class="fa fa-chevron-left"></i> Optional类
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    <div class="comments" id="gitalk-container"></div>
  

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Autowired与-Resource的不同"><span class="nav-number">1.</span> <span class="nav-text">@Autowired与@Resource的不同</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spring注入bean的几种方式"><span class="nav-number">2.</span> <span class="nav-text">spring注入bean的几种方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Qualifier有什么用-什么时候用"><span class="nav-number">3.</span> <span class="nav-text">@Qualifier有什么用 什么时候用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java中基本数据类型和包装类型的区别"><span class="nav-number">4.</span> <span class="nav-text">Java中基本数据类型和包装类型的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mybatis在mapper-xml中怎么处理大于、小于、不等于号"><span class="nav-number">5.</span> <span class="nav-text">mybatis在mapper.xml中怎么处理大于、小于、不等于号</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用转义字符"><span class="nav-number">5.1.</span> <span class="nav-text">使用转义字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用"><span class="nav-number">5.2.</span> <span class="nav-text">使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PreparedStatement防止sql注入原理"><span class="nav-number">6.</span> <span class="nav-text">PreparedStatement防止sql注入原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-创建线程的三种方式、创建线程池的四种方式"><span class="nav-number">7.</span> <span class="nav-text">java 创建线程的三种方式、创建线程池的四种方式</span></a></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/1.jpg"
      alt="Nano">
  <p class="site-author-name" itemprop="name">Nano</p>
  <div class="site-description" itemprop="description">史上最帅高中生</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">35</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL05hbm95ZWx1bw==" title="GitHub &rarr; https://github.com/Nanoyeluo"><i class="fa fa-fw fa-github"></i>GitHub</span>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <span class="exturl" data-url="bWFpbHRvOm5hbm95ZWx1b0AxNjMuY29t" title="E-Mail &rarr; mailto:nanoyeluo@163.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</span>
      </span>
    
  </div>
  <div class="cc-license motion-element" itemprop="license">
    
  
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nano</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">155k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:21</span>
</div>
  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZw==">NexT.Gemini</span> v7.3.0</div>

        












        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.3.0"></script><script src="/js/motion.js?v=7.3.0"></script>
<script src="/js/schemes/pisces.js?v=7.3.0"></script>

<script src="/js/next-boot.js?v=7.3.0"></script>



  








  <script src="/js/local-search.js?v=7.3.0"></script>














  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '6ccd892092312eef93bc',
      clientSecret: '0fa46ca50c7b5f223dc46439dc1539ae6d10fbc4',
      repo: 'Nanoyeluo.github.io',
      owner: 'Nanoyeluo',
      admin: ['Nanoyeluo'],
      id: '22b3bc1468403aa73744dfcb1190ac2c',
        language: window.navigator.language || window.navigator.userLanguage,
      
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
</script>

</body>
</html>
